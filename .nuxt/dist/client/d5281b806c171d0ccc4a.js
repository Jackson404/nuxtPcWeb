(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{392:function(t,e,d){"use strict";d.r(e);var base=d(55),o={name:"wechat",data:function(){return{code:this.$route.query.code,appid:"wx31ded528641f2b4c",device_id:"website",platform:"web",ns_device_id:"web"}},watch:{$route:function(t,e){this.code=t.code}},mounted:function(){var t=this;if(""!==this.code){var e={code:this.code,appid:this.appid,device_id:this.device_id,platform:this.platform},d={ns_device_id:this.ns_device_id};this.$axios.post("".concat(base.a.sq,"/WechatLogin"),e,{headers:d}).then((function(e){if(1===e.data.Status){var d=e.data.Data.account,o=e.data.Data.password,n=e.data.Data.type;t.$axios.post("".concat(base.a.sq,"/Login"),{type:n,account:d,password:o,secret:""},{headers:{ns_device_id:t.ns_device_id}}).then((function(e){if(1===e.data.Status){var d=e.data.Data.uid,o=(e.data.Data.guid,e.data.Data.token),n=(e.data.Data.is_activated,e.data.Data.is_add_favorite,e.data.Data.iosDownloadUrl,e.data.Data.is_locked,e.data.Data.nickname),c=e.data.Data.avatar_url,r=e.data.Data.phone;sessionStorage.setItem("nickname",n),sessionStorage.setItem("token",o),sessionStorage.setItem("avatar_url",c),sessionStorage.setItem("phone",r),sessionStorage.setItem("uid",d),window.location.href="/"}else t.$message.error(e.data.ErrMsg)}))}}))}}},n=d(6),component=Object(n.a)(o,(function(){var t=this.$createElement;this._self._c;return this._m(0)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("span",[this._v("loading...")])])}],!1,null,"3bc8878c",null);e.default=component.exports}}]);